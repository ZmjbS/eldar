{% extends "grunnur.html" %}
{% load staticfiles %}

{% block stilar %}
<style>
	tbody tr td { vertical-align: top; }
	th.dagur {  text-align: left; border: thin solid green; border-left-width: 1em; }
	th.timabil { background-color: darkblue; color: white; padding: .2em; font-size: small; }
	th.heild_timabils { background-color: lightblue; color: darkblue; padding: .2em; font-size: small; }
	td { height: 3.6em; width: 3.6em; }
	.vakt.vakttegund-1 { background-color: #eed; }
	.vakt.vakttegund-1.active { background-color: #ddc; }
	.vakt.vakttegund-1.hover{ background-color: #ccb; }
	.vakt.vakttegund-2 { background-color: #eee; }
	.vakt.vakttegund-2.active { background-color: #ddd; }
	.vakt.vakttegund-2.hover { background-color: #ccc; }
	.vakt.vakttegund-3 { background-color: #eef; }
	.vakt.vakttegund-3.active { background-color: #dde; }
	.vakt.vakttegund-3.hover { background-color: #ccd; }
	.ekkivakt { background-color: white; }
	.fyrstathanndag { border: 0px solid black; border-left-width: 1em; }
	.skraning-icon { cursor: grab; }

	.valin { border: 2px solid green; width: calc(3.6em - 4px); height: calc(3.6em - 4px); }
	.valin, .ovalin { background-color: red; }
</style>
{% endblock %}

{% block atburdarit %}
<!-- Þetta var hugmynd til að nota svona identicon í stað hringjanna... -->
<!-- <script src="{% static "js/require.js" %}"></script> -->
<!--<script src="{% static "js/smoothie-master/standalone/require.js" %}"></script>-->
<!--<script src="{% static "js/identicon-github/index.js" %}"></script>-->
<script type="text/javascript">

$( init );

function init() {
// Þegar við smellum á td.vakt breytist á milli "ovalin" og "valin".
$('.vakt').click(function() {
	$(this).toggleClass('valin ovalin');
});

}


</script>
{% endblock %}

{% block body %}
<div id="leidbeiningar">
<p>Veldu þér vinnudaga með því að semella á vaktirnar. Þú getur valið þér starfsstöð með því að tilgreina hana í fellilistanum sem birtist. Athugaðu að það er ekki öruggt að enda á þeim starfsstað; mögulega gæti þurft að færa fólk til, t.a.m. ef valda starfsstöðin hefur náð lágmarki sínu og starfskrafta vantar annað.</p>
<p>Þegar ákveðnu hámarki er náð, lokast fyrir skráningu.</p>
<p>Fylltu svo inn persónuupplýsingarnar þínar og smelltu á vista; þá á skráningin að vera komin.</p>
</div>
<form method="post" style="margin-top: 1em;" action="/vaktir/skra">{% csrf_token %}
<table>
	<thead>
	<tr>
		{% for dagur in dagalisti %}
		<th class="dagur" colspan="{{ timabilalisti|length }}">{{ dagur | date:"M/d" }}</th>
		{% endfor %}
	</tr>
	<tr>
		{% for dagur in dagalisti %}
			{% for tb in timabilalisti %}
			<th class="timabil">{{ tb }}</th>
			{% endfor %}
		{% endfor %}
	</tr>
	<tr>
		{% for timabil in dagstimabil %}
			{% for tb in timabil %}
				<th class="heild_timabils">{{ tb.skraningar }} / {{ tb.lagmark }}</th>
			{% endfor %}
		{% endfor %}
	</tr>
	</thead>
	<tbody>
		{% for timabil in dagstimabil %}
			{% for tb in timabil %}
				<td class="vakt ovalin" style="background-color: {{ tb.litur }};"><input type="hidden" name="vakt-{{ TODO: þurfum að fá lista yfir vaktirnar og gefa vakta-id-ið hér: vakt.id }}" value="valin" /></th>
			{% endfor %}
		{% endfor %}
		
	</tbody>
</table>

	<input type="text" name="nafn" placeholder="Nafn" />
	<input type="text" name="simi" placeholder="Símanúmer" />
	<input type="text" name="postfang" placeholder="Tölvupóstfang" />
	<br />
	<textarea name="aths" placeholder="Athugasemdir" cols="80"></textarea>
	<br />
	<input type="submit" name="flettaupp" value="Fletta upp skráningu" />
	<input type="submit" name="submit" value="Vista skráningu" />
</form>

{% endblock %}
